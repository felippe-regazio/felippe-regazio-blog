<!--:::{
  "post_title": "Arrays em JS s√£o Objetos",
  "post_description": "Voc√™ j√° observou que o tipo de um Array em JS √© 'object'?",
  "post_created_at": "Mon May 02 2022 19:03:57 GMT-0300 (Brasilia Standard Time)"
}:::-->

<p>Voc√™ j√° observou que o tipo de um Array em JS √© &quot;object&quot;?</p>
<pre><code>typeof [] === typeof {} // true
typeof []  // &#39;object&#39;
typeof {} // &#39;object&#39;
</code></pre>
<p>Ou seja, um array √© um objeto? </p>
<p>Ent√£o: SIM. Segue a thread aqui que eu vou explicar porque isso √© assim e como um array funciona na runtime ü§ì</p>
<p>A primeira coisa que precisamos entender √© que um Array n√£o √© um tipo, ele √© uma estrutura de dados.</p>
<p>Um Array √© uma Estrutura de Lista que pode se comportar como LIFO ou FIFO (veja os metodos pop &amp; shift por ex).</p>
<p>A segunda coisa que precisamos entender √© que em JavaScript QUASE tudo √© objeto:</p>
<p>Temos os seguintes tipos primitivos: number , string , boolean , null , undefined , symbol and bigint. Todo o resto √© um do tipo complexo: &quot;object&quot;.</p>
<p>Ou seja um Array n√£o pode ser de tipo primitivo - porque ele √© um Array (duhhr nao diga rs). Mas os tipos complexos em JS s√£o sempre objetos, ent√£o o Array s√≥ pode ser um objeto. E de fato √©!</p>
<p>O array √© um Objeto com prototype e metodos que constoem uma estrutura de dados pra vc</p>
<p>Qdo vc escreve:</p>
<pre><code>const a = [ &#39;a&#39;, &#39;b&#39;, &#39;c&#39; ];
</code></pre>
<p>A runtime entende</p>
<pre><code>const a = {
  0: &#39;a&#39;, 
  1: &#39;b&#39;,
  2: &#39;c&#39;, 
  length: 3,
  __prototype___
};
</code></pre>
<p>Essa estrutura √© acoplada ao prototype array que tem getters, setters, metodos como pop, shift, map, etc... pra facilitar sua vida.</p>
<p>Por exemplo, abaixo est√° a implementa√ß√£o dummy de um objeto ao estilo Array que tem somente o m√©todo push e a propriedade length.</p>
<p>usamos o Object.create pra definir o prototype dele como quisermos e voil√°, temos (grosseiramente falando) um &quot;&quot;&quot;Array&quot;&quot;&quot;:</p>
<img src="img-1.jpeg" alt="Code image 1">

<p>Ou, se vc quiser ser o espert√£o/tona e reaproveitar o prototype que o JS deixou pronto, vc cria um objeto e diz que o prototype dele √© o mesmo de um Array, e voil√°: Vc ter√° um Array. Juro √≥:</p>
<img src="img-2.jpeg" alt="Code image 2">

<p>Ent√£o como saber se um Array √© um Array mesmo em JS? Voc√™ usa o m√©todo:</p>
<pre><code>Array.isArray([]); // true
Array.isArray({}); // false
</code></pre>
<p>Mas como tal bruxaria √© poss√≠vel? Agora que vc sabe como o maquinario funciona, vc intui que isso √© um metodo no prototype que verifica isso pra vc</p>
<p>Concluindo: Um array √© uma estrutura nativa em JS de lista LIFO/FIFO do tipo Objeto que contem em seu prototype metodos e propriedades que facilitam sua vida ao lidar com listas e tudo isso junto √© um: Array. Como isso √© implementado nativamente, convenciona-se a nota√ß√£o: [].</p>
